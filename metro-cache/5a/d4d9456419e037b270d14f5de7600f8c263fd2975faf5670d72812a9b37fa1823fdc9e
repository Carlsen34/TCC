{"dependencies":[{"name":"@babel/runtime/helpers/extends","data":{"isAsync":false}},{"name":"../Common","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  var _extends = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/extends\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n\n  var Common_1 = _$$_REQUIRE(_dependencyMap[1], \"../Common\");\n\n  var logger = new Common_1.ConsoleLogger('I18n');\n\n  var I18n = function () {\n    function I18n(options) {\n      this._options = null;\n      this._lang = null;\n      this._dict = {};\n      this._options = _extends({}, options);\n      this._lang = this._options.language;\n\n      if (!this._lang && typeof window !== 'undefined' && window && window.navigator) {\n        this._lang = window.navigator.language;\n      }\n\n      logger.debug(this._lang);\n    }\n\n    I18n.prototype.setLanguage = function (lang) {\n      this._lang = lang;\n    };\n\n    I18n.prototype.get = function (key, defVal) {\n      if (defVal === void 0) {\n        defVal = undefined;\n      }\n\n      if (!this._lang) {\n        return typeof defVal !== 'undefined' ? defVal : key;\n      }\n\n      var lang = this._lang;\n      var val = this.getByLanguage(key, lang);\n\n      if (val) {\n        return val;\n      }\n\n      if (lang.indexOf('-') > 0) {\n        val = this.getByLanguage(key, lang.split('-')[0]);\n      }\n\n      if (val) {\n        return val;\n      }\n\n      return typeof defVal !== 'undefined' ? defVal : key;\n    };\n\n    I18n.prototype.getByLanguage = function (key, language, defVal) {\n      if (defVal === void 0) {\n        defVal = null;\n      }\n\n      if (!language) {\n        return defVal;\n      }\n\n      var lang_dict = this._dict[language];\n\n      if (!lang_dict) {\n        return defVal;\n      }\n\n      return lang_dict[key];\n    };\n\n    I18n.prototype.putVocabulariesForLanguage = function (language, vocabularies) {\n      var lang_dict = this._dict[language];\n\n      if (!lang_dict) {\n        lang_dict = this._dict[language] = {};\n      }\n\n      _extends(lang_dict, vocabularies);\n    };\n\n    I18n.prototype.putVocabularies = function (vocabularies) {\n      var _this = this;\n\n      Object.keys(vocabularies).map(function (key) {\n        _this.putVocabulariesForLanguage(key, vocabularies[key]);\n      });\n    };\n\n    return I18n;\n  }();\n\n  exports.I18n = I18n;\n});","map":[[2,0,1,0],[6,0,14,0,"Object"],[6,2,14,0,"Object"],[6,8,14,6],[6,9,14,7,"defineProperty"],[6,23,14,0],[6,24,14,22,"exports"],[6,31,14,0],[6,33,14,31],[6,45,14,0],[6,47,14,45],[7,0,14,47,"value"],[7,4,14,47,"value"],[7,9,14,52],[7,11,14,54],[8,0,14,45],[8,3,14,0],[10,0,15,0],[10,6,15,4,"Common_1"],[10,14,15,12],[10,17,15,15,"require"],[10,28,15,22],[10,60,15,0],[12,0,16,0],[12,6,16,4,"logger"],[12,12,16,10],[12,15,16,13],[12,19,16,17,"Common_1"],[12,27,16,25],[12,28,16,26,"ConsoleLogger"],[12,41,16,13],[12,42,16,40],[12,48,16,13],[12,49,16,0],[14,0,20,0],[14,6,20,4,"I18n"],[14,10,20,8],[14,13,20,26],[14,25,20,38],[15,0,26,4],[15,13,26,13,"I18n"],[15,17,26,4],[15,18,26,18,"options"],[15,25,26,4],[15,27,26,27],[16,0,30,8],[16,11,30,13,"_options"],[16,19,30,8],[16,22,30,24],[16,26,30,8],[17,0,34,8],[17,11,34,13,"_lang"],[17,16,34,8],[17,19,34,21],[17,23,34,8],[18,0,38,8],[18,11,38,13,"_dict"],[18,16,38,8],[18,19,38,21],[18,21,38,8],[19,0,39,8],[19,11,39,13,"_options"],[19,19,39,8],[19,22,39,24],[19,31,39,38],[19,33,39,24],[19,35,39,42,"options"],[19,42,39,24],[19,43,39,8],[20,0,40,8],[20,11,40,13,"_lang"],[20,16,40,8],[20,19,40,21],[20,24,40,26,"_options"],[20,32,40,21],[20,33,40,35,"language"],[20,41,40,8],[22,0,41,8],[22,10,41,12],[22,11,41,13],[22,16,41,18,"_lang"],[22,21,41,12],[22,25,41,27],[22,32,41,34,"window"],[22,38,41,27],[22,43,41,45],[22,54,41,12],[22,58,41,60,"window"],[22,64,41,12],[22,68,41,70,"window"],[22,74,41,76],[22,75,41,77,"navigator"],[22,84,41,8],[22,86,41,88],[23,0,42,12],[23,13,42,17,"_lang"],[23,18,42,12],[23,21,42,25,"window"],[23,27,42,31],[23,28,42,32,"navigator"],[23,37,42,25],[23,38,42,42,"language"],[23,46,42,12],[24,0,43,9],[26,0,44,8,"logger"],[26,6,44,8,"logger"],[26,12,44,14],[26,13,44,15,"debug"],[26,18,44,8],[26,19,44,21],[26,24,44,26,"_lang"],[26,29,44,8],[27,0,45,5],[29,0,51,4,"I18n"],[29,4,51,4,"I18n"],[29,8,51,8],[29,9,51,9,"prototype"],[29,18,51,4],[29,19,51,19,"setLanguage"],[29,30,51,4],[29,33,51,33],[29,43,51,43,"lang"],[29,47,51,33],[29,49,51,49],[30,0,52,8],[30,11,52,13,"_lang"],[30,16,52,8],[30,19,52,21,"lang"],[30,23,52,8],[31,0,53,5],[31,5,51,4],[33,0,60,4,"I18n"],[33,4,60,4,"I18n"],[33,8,60,8],[33,9,60,9,"prototype"],[33,18,60,4],[33,19,60,19,"get"],[33,22,60,4],[33,25,60,25],[33,35,60,35,"key"],[33,38,60,25],[33,40,60,40,"defVal"],[33,46,60,25],[33,48,60,48],[34,0,61,8],[34,10,61,12,"defVal"],[34,16,61,18],[34,21,61,23],[34,26,61,28],[34,27,61,8],[34,29,61,31],[35,0,61,33,"defVal"],[35,8,61,33,"defVal"],[35,14,61,39],[35,17,61,42,"undefined"],[35,26,61,33],[36,0,61,54],[38,0,62,8],[38,10,62,12],[38,11,62,13],[38,16,62,18,"_lang"],[38,21,62,8],[38,23,62,25],[39,0,63,12],[39,15,63,20],[39,22,63,27,"defVal"],[39,28,63,20],[39,33,63,38],[39,44,63,19],[39,47,63,53,"defVal"],[39,53,63,19],[39,56,63,62,"key"],[39,59,63,12],[40,0,64,9],[42,0,65,8],[42,10,65,12,"lang"],[42,14,65,16],[42,17,65,19],[42,22,65,24,"_lang"],[42,27,65,8],[43,0,66,8],[43,10,66,12,"val"],[43,13,66,15],[43,16,66,18],[43,21,66,23,"getByLanguage"],[43,34,66,18],[43,35,66,37,"key"],[43,38,66,18],[43,40,66,42,"lang"],[43,44,66,18],[43,45,66,8],[45,0,67,8],[45,10,67,12,"val"],[45,13,67,8],[45,15,67,17],[46,0,68,12],[46,15,68,19,"val"],[46,18,68,12],[47,0,69,9],[49,0,70,8],[49,10,70,12,"lang"],[49,14,70,16],[49,15,70,17,"indexOf"],[49,22,70,12],[49,23,70,25],[49,26,70,12],[49,30,70,32],[49,31,70,8],[49,33,70,35],[50,0,71,12,"val"],[50,8,71,12,"val"],[50,11,71,15],[50,14,71,18],[50,19,71,23,"getByLanguage"],[50,32,71,18],[50,33,71,37,"key"],[50,36,71,18],[50,38,71,42,"lang"],[50,42,71,46],[50,43,71,47,"split"],[50,48,71,42],[50,49,71,53],[50,52,71,42],[50,54,71,58],[50,55,71,42],[50,56,71,18],[50,57,71,12],[51,0,72,9],[53,0,73,8],[53,10,73,12,"val"],[53,13,73,8],[53,15,73,17],[54,0,74,12],[54,15,74,19,"val"],[54,18,74,12],[55,0,75,9],[57,0,76,8],[57,13,76,16],[57,20,76,23,"defVal"],[57,26,76,16],[57,31,76,34],[57,42,76,15],[57,45,76,49,"defVal"],[57,51,76,15],[57,54,76,58,"key"],[57,57,76,8],[58,0,77,5],[58,5,60,4],[60,0,85,4,"I18n"],[60,4,85,4,"I18n"],[60,8,85,8],[60,9,85,9,"prototype"],[60,18,85,4],[60,19,85,19,"getByLanguage"],[60,32,85,4],[60,35,85,35],[60,45,85,45,"key"],[60,48,85,35],[60,50,85,50,"language"],[60,58,85,35],[60,60,85,60,"defVal"],[60,66,85,35],[60,68,85,68],[61,0,86,8],[61,10,86,12,"defVal"],[61,16,86,18],[61,21,86,23],[61,26,86,28],[61,27,86,8],[61,29,86,31],[62,0,86,33,"defVal"],[62,8,86,33,"defVal"],[62,14,86,39],[62,17,86,42],[62,21,86,33],[63,0,86,49],[65,0,87,8],[65,10,87,12],[65,11,87,13,"language"],[65,19,87,8],[65,21,87,23],[66,0,88,12],[66,15,88,19,"defVal"],[66,21,88,12],[67,0,89,9],[69,0,90,8],[69,10,90,12,"lang_dict"],[69,19,90,21],[69,22,90,24],[69,27,90,29,"_dict"],[69,32,90,24],[69,33,90,35,"language"],[69,41,90,24],[69,42,90,8],[71,0,91,8],[71,10,91,12],[71,11,91,13,"lang_dict"],[71,20,91,8],[71,22,91,24],[72,0,92,12],[72,15,92,19,"defVal"],[72,21,92,12],[73,0,93,9],[75,0,94,8],[75,13,94,15,"lang_dict"],[75,22,94,24],[75,23,94,25,"key"],[75,26,94,24],[75,27,94,8],[76,0,95,5],[76,5,85,4],[78,0,102,4,"I18n"],[78,4,102,4,"I18n"],[78,8,102,8],[78,9,102,9,"prototype"],[78,18,102,4],[78,19,102,19,"putVocabulariesForLanguage"],[78,45,102,4],[78,48,102,48],[78,58,102,58,"language"],[78,66,102,48],[78,68,102,68,"vocabularies"],[78,80,102,48],[78,82,102,82],[79,0,103,8],[79,10,103,12,"lang_dict"],[79,19,103,21],[79,22,103,24],[79,27,103,29,"_dict"],[79,32,103,24],[79,33,103,35,"language"],[79,41,103,24],[79,42,103,8],[81,0,104,8],[81,10,104,12],[81,11,104,13,"lang_dict"],[81,20,104,8],[81,22,104,24],[82,0,105,12,"lang_dict"],[82,8,105,12,"lang_dict"],[82,17,105,21],[82,20,105,24],[82,25,105,29,"_dict"],[82,30,105,24],[82,31,105,35,"language"],[82,39,105,24],[82,43,105,47],[82,45,105,12],[83,0,106,9],[85,0,107,8],[85,15,107,22,"lang_dict"],[85,24,107,8],[85,26,107,33,"vocabularies"],[85,38,107,8],[86,0,108,5],[86,5,102,4],[88,0,115,4,"I18n"],[88,4,115,4,"I18n"],[88,8,115,8],[88,9,115,9,"prototype"],[88,18,115,4],[88,19,115,19,"putVocabularies"],[88,34,115,4],[88,37,115,37],[88,47,115,47,"vocabularies"],[88,59,115,37],[88,61,115,61],[89,0,116,8],[89,10,116,12,"_this"],[89,15,116,17],[89,18,116,20],[89,22,116,8],[91,0,117,8,"Object"],[91,6,117,8,"Object"],[91,12,117,14],[91,13,117,15,"keys"],[91,17,117,8],[91,18,117,20,"vocabularies"],[91,30,117,8],[91,32,117,34,"map"],[91,35,117,8],[91,36,117,38],[91,46,117,48,"key"],[91,49,117,38],[91,51,117,53],[92,0,118,12,"_this"],[92,8,118,12,"_this"],[92,13,118,17],[92,14,118,18,"putVocabulariesForLanguage"],[92,40,118,12],[92,41,118,45,"key"],[92,44,118,12],[92,46,118,50,"vocabularies"],[92,58,118,62],[92,59,118,63,"key"],[92,62,118,62],[92,63,118,12],[93,0,119,9],[93,7,117,8],[94,0,120,5],[94,5,115,4],[96,0,121,4],[96,11,121,11,"I18n"],[96,15,121,4],[97,0,122,1],[97,3,20,26],[97,5,20,0],[99,0,123,0,"exports"],[99,2,123,0,"exports"],[99,9,123,7],[99,10,123,8,"I18n"],[99,14,123,0],[99,17,123,15,"I18n"],[99,21,123,0]]},"type":"js/module"}]}