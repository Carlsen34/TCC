{"dependencies":[{"name":"@babel/runtime/helpers/interopRequireDefault","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/classCallCheck","data":{"isAsync":false}},{"name":"@babel/runtime/helpers/createClass","data":{"isAsync":false}},{"name":"./UserAgent","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var _interopRequireDefault = _$$_REQUIRE(_dependencyMap[0], \"@babel/runtime/helpers/interopRequireDefault\");\n\n  Object.defineProperty(exports, \"__esModule\", {\n    value: true\n  });\n  exports.default = void 0;\n\n  var _classCallCheck2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[1], \"@babel/runtime/helpers/classCallCheck\"));\n\n  var _createClass2 = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[2], \"@babel/runtime/helpers/createClass\"));\n\n  var _UserAgent = _interopRequireDefault(_$$_REQUIRE(_dependencyMap[3], \"./UserAgent\"));\n\n  var Client = function () {\n    function Client(region, endpoint) {\n      (0, _classCallCheck2.default)(this, Client);\n      this.endpoint = endpoint || \"https://cognito-idp.\" + region + \".amazonaws.com/\";\n      this.userAgent = _UserAgent.default.prototype.userAgent || 'aws-amplify/0.1.x js';\n    }\n\n    (0, _createClass2.default)(Client, [{\n      key: \"request\",\n      value: function request(operation, params, callback) {\n        var headers = {\n          'Content-Type': 'application/x-amz-json-1.1',\n          'X-Amz-Target': \"AWSCognitoIdentityProviderService.\" + operation,\n          'X-Amz-User-Agent': this.userAgent\n        };\n        var options = {\n          headers: headers,\n          method: 'POST',\n          mode: 'cors',\n          cache: 'no-cache',\n          body: JSON.stringify(params)\n        };\n        var response;\n        var responseJsonData;\n        fetch(this.endpoint, options).then(function (resp) {\n          response = resp;\n          return resp;\n        }, function (err) {\n          if (err instanceof TypeError) {\n            throw new Error('Network error');\n          }\n\n          throw err;\n        }).then(function (resp) {\n          return resp.json().catch(function () {\n            return {};\n          });\n        }).then(function (data) {\n          if (response.ok) return callback(null, data);\n          responseJsonData = data;\n          var code = (data.__type || data.code).split('#').pop();\n          var error = {\n            code: code,\n            name: code,\n            message: data.message || data.Message || null\n          };\n          return callback(error);\n        }).catch(function (err) {\n          var error = {\n            code: 'UnknownError',\n            message: 'Unknown error, the response body from fetch is: ' + responseJsonData\n          };\n\n          if (response && response.headers && response.headers.get('x-amzn-errortype')) {\n            try {\n              var code = response.headers.get('x-amzn-errortype').split(':')[0];\n              error = {\n                code: code,\n                name: code,\n                statusCode: response.status,\n                message: response.status ? response.status.toString() : null\n              };\n            } catch (ex) {\n              error = {\n                code: 'UnknownError',\n                message: response.headers.get('x-amzn-errortype')\n              };\n              return callback(error);\n            }\n          } else if (err instanceof Error && err.message === 'Network error') {\n            error = {\n              code: 'NetworkError',\n              name: err.name,\n              message: err.message\n            };\n          }\n\n          return callback(error);\n        });\n      }\n    }]);\n    return Client;\n  }();\n\n  exports.default = Client;\n});","map":[[13,0,1,0],[15,6,3,21,"Client"],[15,12],[16,0,9,2],[16,20,9,14,"region"],[16,26,9,2],[16,28,9,22,"endpoint"],[16,36,9,2],[16,38,9,32],[17,0,9,32],[18,0,10,4],[18,11,10,9,"endpoint"],[18,19,10,4],[18,22,10,20,"endpoint"],[18,30,10,28],[18,59,10,55,"region"],[18,65,10,28],[18,85,10,4],[19,0,11,4],[19,11,11,9,"userAgent"],[19,20,11,4],[19,23,11,21,"UserAgent"],[19,42,11,31,"prototype"],[19,51,11,21],[19,52,11,41,"userAgent"],[19,61,11,21],[19,65,11,54],[19,87,11,4],[20,0,12,3],[24,30,22,10,"operation"],[24,39],[24,41,22,21,"params"],[24,47],[24,49,22,29,"callback"],[24,57],[24,59,22,39],[25,0,23,4],[25,12,23,10,"headers"],[25,19,23,17],[25,22,23,20],[26,0,24,6],[26,26,24,22],[26,54,23,20],[27,0,25,6],[27,65,25,59,"operation"],[27,74,23,20],[28,0,26,6],[28,30,26,26],[28,35,26,31,"userAgent"],[29,0,23,20],[29,9,23,4],[30,0,29,4],[30,12,29,10,"options"],[30,19,29,17],[30,22,29,20],[31,0,30,6,"headers"],[31,10,30,6,"headers"],[31,17,30,13],[31,19,30,6,"headers"],[31,26,29,20],[32,0,31,6,"method"],[32,10,31,6,"method"],[32,16,31,12],[32,18,31,14],[32,24,29,20],[33,0,32,6,"mode"],[33,10,32,6,"mode"],[33,14,32,10],[33,16,32,12],[33,22,29,20],[34,0,33,6,"cache"],[34,10,33,6,"cache"],[34,15,33,11],[34,17,33,13],[34,27,29,20],[35,0,34,6,"body"],[35,10,34,6,"body"],[35,14,34,10],[35,16,34,12,"JSON"],[35,20,34,16],[35,21,34,17,"stringify"],[35,30,34,12],[35,31,34,27,"params"],[35,37,34,12],[36,0,29,20],[36,9,29,4],[37,0,37,4],[37,12,37,8,"response"],[37,20,37,4],[38,0,38,4],[38,12,38,8,"responseJsonData"],[38,28,38,4],[39,0,40,4,"fetch"],[39,8,40,4,"fetch"],[39,13,40,9],[39,14,40,10],[39,19,40,15,"endpoint"],[39,27,40,9],[39,29,40,25,"options"],[39,36,40,9],[39,37,40,4],[39,38,41,7,"then"],[39,42,40,4],[39,43,41,12],[39,53,41,12,"resp"],[39,57,41,16],[39,59,41,20],[40,0,42,8,"response"],[40,10,42,8,"response"],[40,18,42,16],[40,21,42,19,"resp"],[40,25,42,8],[41,0,43,8],[41,17,43,15,"resp"],[41,21,43,8],[42,0,44,7],[42,9,40,4],[42,11,44,9],[42,21,44,9,"err"],[42,24,44,12],[42,26,44,16],[43,0,47,8],[43,14,47,12,"err"],[43,17,47,15],[43,29,47,27,"TypeError"],[43,38,47,8],[43,40,47,38],[44,0,48,10],[44,18,48,16],[44,22,48,20,"Error"],[44,27,48,16],[44,28,48,26],[44,43,48,16],[44,44,48,10],[45,0,49,9],[47,0,50,8],[47,16,50,14,"err"],[47,19,50,8],[48,0,51,7],[48,9,40,4],[48,11,52,7,"then"],[48,15,40,4],[48,16,52,12],[48,26,52,12,"resp"],[48,30,52,16],[49,0,52,16],[49,17,52,20,"resp"],[49,21,52,24],[49,22,52,25,"json"],[49,26,52,20],[49,29,52,32,"catch"],[49,34,52,20],[49,35,52,38],[50,0,52,38],[50,19,52,45],[50,21,52,38],[51,0,52,38],[51,11,52,20],[51,12,52,16],[52,0,52,16],[52,9,40,4],[52,11,53,7,"then"],[52,15,40,4],[52,16,53,12],[52,26,53,12,"data"],[52,30,53,16],[52,32,53,20],[53,0,55,8],[53,14,55,12,"response"],[53,22,55,20],[53,23,55,21,"ok"],[53,25,55,8],[53,27,55,25],[53,34,55,32,"callback"],[53,42,55,40],[53,43,55,41],[53,47,55,40],[53,49,55,47,"data"],[53,53,55,40],[53,54,55,25],[54,0,56,8,"responseJsonData"],[54,10,56,8,"responseJsonData"],[54,26,56,24],[54,29,56,27,"data"],[54,33,56,8],[55,0,60,8],[55,14,60,14,"code"],[55,18,60,18],[55,21,60,21],[55,22,60,22,"data"],[55,26,60,26],[55,27,60,27,"__type"],[55,33,60,22],[55,37,60,37,"data"],[55,41,60,41],[55,42,60,42,"code"],[55,46,60,21],[55,48,60,48,"split"],[55,53,60,21],[55,54,60,54],[55,57,60,21],[55,59,60,59,"pop"],[55,62,60,21],[55,64,60,8],[56,0,61,8],[56,14,61,14,"error"],[56,19,61,19],[56,22,61,22],[57,0,62,10,"code"],[57,12,62,10,"code"],[57,16,62,14],[57,18,62,10,"code"],[57,22,61,22],[58,0,63,10,"name"],[58,12,63,10,"name"],[58,16,63,14],[58,18,63,16,"code"],[58,22,61,22],[59,0,64,10,"message"],[59,12,64,10,"message"],[59,19,64,17],[59,21,64,20,"data"],[59,25,64,24],[59,26,64,25,"message"],[59,33,64,20],[59,37,64,36,"data"],[59,41,64,40],[59,42,64,41,"Message"],[59,49,64,20],[59,53,64,52],[60,0,61,22],[60,11,61,8],[61,0,66,8],[61,17,66,15,"callback"],[61,25,66,23],[61,26,66,24,"error"],[61,31,66,23],[61,32,66,8],[62,0,67,7],[62,9,40,4],[62,11,68,7,"catch"],[62,16,40,4],[62,17,68,13],[62,27,68,13,"err"],[62,30,68,16],[62,32,68,20],[63,0,71,8],[63,14,71,12,"error"],[63,19,71,17],[63,22,71,20],[64,0,71,22,"code"],[64,12,71,22,"code"],[64,16,71,26],[64,18,71,28],[64,32,71,20],[65,0,71,44,"message"],[65,12,71,44,"message"],[65,19,71,51],[65,21,71,53],[65,74,71,106,"responseJsonData"],[66,0,71,20],[66,11,71,8],[68,0,74,8],[68,14,74,12,"response"],[68,22,74,20],[68,26,74,24,"response"],[68,34,74,32],[68,35,74,33,"headers"],[68,42,74,12],[68,46,74,44,"response"],[68,54,74,52],[68,55,74,53,"headers"],[68,62,74,44],[68,63,74,61,"get"],[68,66,74,44],[68,67,74,65],[68,85,74,44],[68,86,74,8],[68,88,74,86],[69,0,75,10],[69,16,75,14],[70,0,76,12],[70,18,76,18,"code"],[70,22,76,22],[70,25,76,26,"response"],[70,33,76,34],[70,34,76,35,"headers"],[70,41,76,26],[70,42,76,43,"get"],[70,45,76,26],[70,46,76,47],[70,64,76,26],[70,65,76,25],[70,66,76,68,"split"],[70,71,76,25],[70,72,76,74],[70,75,76,25],[70,77,76,79],[70,78,76,25],[70,79,76,12],[71,0,77,12,"error"],[71,14,77,12,"error"],[71,19,77,17],[71,22,77,20],[72,0,78,14,"code"],[72,16,78,14,"code"],[72,20,78,18],[72,22,78,14,"code"],[72,26,77,20],[73,0,79,14,"name"],[73,16,79,14,"name"],[73,20,79,18],[73,22,79,20,"code"],[73,26,77,20],[74,0,80,14,"statusCode"],[74,16,80,14,"statusCode"],[74,26,80,24],[74,28,80,26,"response"],[74,36,80,34],[74,37,80,35,"status"],[74,43,77,20],[75,0,81,14,"message"],[75,16,81,14,"message"],[75,23,81,21],[75,25,81,24,"response"],[75,33,81,32],[75,34,81,33,"status"],[75,40,81,23],[75,43,81,43,"response"],[75,51,81,51],[75,52,81,52,"status"],[75,58,81,43],[75,59,81,59,"toString"],[75,67,81,43],[75,69,81,23],[75,72,81,72],[76,0,77,20],[76,15,77,12],[77,0,83,11],[77,13,75,10],[77,14,83,12],[77,21,83,19,"ex"],[77,23,83,12],[77,25,83,23],[78,0,85,14,"error"],[78,14,85,14,"error"],[78,19,85,19],[78,22,85,22],[79,0,86,16,"code"],[79,16,86,16,"code"],[79,20,86,20],[79,22,86,22],[79,36,85,22],[80,0,87,16,"message"],[80,16,87,16,"message"],[80,23,87,23],[80,25,87,25,"response"],[80,33,87,33],[80,34,87,34,"headers"],[80,41,87,25],[80,42,87,42,"get"],[80,45,87,25],[80,46,87,46],[80,64,87,25],[81,0,85,22],[81,15,85,14],[82,0,89,14],[82,21,89,21,"callback"],[82,29,89,29],[82,30,89,30,"error"],[82,35,89,29],[82,36,89,14],[83,0,90,11],[84,0,92,9],[84,11,74,8],[84,17,92,15],[84,21,92,19,"err"],[84,24,92,22],[84,36,92,34,"Error"],[84,41,92,19],[84,45,92,43,"err"],[84,48,92,46],[84,49,92,47,"message"],[84,56,92,43],[84,61,92,59],[84,76,92,15],[84,78,92,76],[85,0,93,10,"error"],[85,12,93,10,"error"],[85,17,93,15],[85,20,93,18],[86,0,94,12,"code"],[86,14,94,12,"code"],[86,18,94,16],[86,20,94,18],[86,34,93,18],[87,0,95,12,"name"],[87,14,95,12,"name"],[87,18,95,16],[87,20,95,18,"err"],[87,23,95,21],[87,24,95,22,"name"],[87,28,93,18],[88,0,96,12,"message"],[88,14,96,12,"message"],[88,21,96,19],[88,23,96,21,"err"],[88,26,96,24],[88,27,96,25,"message"],[89,0,93,18],[89,13,93,10],[90,0,98,9],[92,0,99,8],[92,17,99,15,"callback"],[92,25,99,23],[92,26,99,24,"error"],[92,31,99,23],[92,32,99,8],[93,0,100,7],[93,9,40,4],[94,0,101,3]]},"type":"js/module"}]}