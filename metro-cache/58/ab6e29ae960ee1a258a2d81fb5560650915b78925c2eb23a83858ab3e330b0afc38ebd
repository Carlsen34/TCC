{"dependencies":[{"name":"../core","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var AWS = _$$_REQUIRE(_dependencyMap[0], \"../core\");\n\n  var rest = AWS.Protocol.Rest;\n  AWS.Polly.Presigner = AWS.util.inherit({\n    constructor: function Signer(options) {\n      options = options || {};\n      this.options = options;\n      this.service = options.service;\n      this.bindServiceObject(options);\n      this._operations = {};\n    },\n    bindServiceObject: function bindServiceObject(options) {\n      options = options || {};\n\n      if (!this.service) {\n        this.service = new AWS.Polly(options);\n      } else {\n        var config = AWS.util.copy(this.service.config);\n        this.service = new this.service.constructor.__super__(config);\n        this.service.config.params = AWS.util.merge(this.service.config.params || {}, options.params);\n      }\n    },\n    modifyInputMembers: function modifyInputMembers(input) {\n      var modifiedInput = AWS.util.copy(input);\n      modifiedInput.members = AWS.util.copy(input.members);\n      AWS.util.each(input.members, function (name, member) {\n        modifiedInput.members[name] = AWS.util.copy(member);\n\n        if (!member.location || member.location === 'body') {\n          modifiedInput.members[name].location = 'querystring';\n          modifiedInput.members[name].locationName = name;\n        }\n      });\n      return modifiedInput;\n    },\n    convertPostToGet: function convertPostToGet(req) {\n      req.httpRequest.method = 'GET';\n      var operation = req.service.api.operations[req.operation];\n      var input = this._operations[req.operation];\n\n      if (!input) {\n        this._operations[req.operation] = input = this.modifyInputMembers(operation.input);\n      }\n\n      var uri = rest.generateURI(req.httpRequest.endpoint.path, operation.httpPath, input, req.params);\n      req.httpRequest.path = uri;\n      req.httpRequest.body = '';\n      delete req.httpRequest.headers['Content-Length'];\n      delete req.httpRequest.headers['Content-Type'];\n    },\n    getSynthesizeSpeechUrl: function getSynthesizeSpeechUrl(params, expires, callback) {\n      var self = this;\n      var request = this.service.makeRequest('synthesizeSpeech', params);\n      request.removeAllListeners('build');\n      request.on('build', function (req) {\n        self.convertPostToGet(req);\n      });\n      return request.presign(expires, callback);\n    }\n  });\n});","map":[[2,0,1,0],[2,6,1,4,"AWS"],[2,9,1,7],[2,12,1,10,"require"],[2,23,1,17],[2,53,1,0],[4,0,2,0],[4,6,2,4,"rest"],[4,10,2,8],[4,13,2,11,"AWS"],[4,16,2,14],[4,17,2,15,"Protocol"],[4,25,2,11],[4,26,2,24,"Rest"],[4,30,2,0],[5,0,7,0,"AWS"],[5,2,7,0,"AWS"],[5,5,7,3],[5,6,7,4,"Polly"],[5,11,7,0],[5,12,7,10,"Presigner"],[5,21,7,0],[5,24,7,22,"AWS"],[5,27,7,25],[5,28,7,26,"util"],[5,32,7,22],[5,33,7,31,"inherit"],[5,40,7,22],[5,41,7,39],[6,0,18,4,"constructor"],[6,4,18,4,"constructor"],[6,15,18,15],[6,17,18,17],[6,26,18,26,"Signer"],[6,32,18,17],[6,33,18,33,"options"],[6,40,18,17],[6,42,18,42],[7,0,19,8,"options"],[7,6,19,8,"options"],[7,13,19,15],[7,16,19,18,"options"],[7,23,19,25],[7,27,19,29],[7,29,19,8],[8,0,20,8],[8,11,20,13,"options"],[8,18,20,8],[8,21,20,23,"options"],[8,28,20,8],[9,0,21,8],[9,11,21,13,"service"],[9,18,21,8],[9,21,21,23,"options"],[9,28,21,30],[9,29,21,31,"service"],[9,36,21,8],[10,0,22,8],[10,11,22,13,"bindServiceObject"],[10,28,22,8],[10,29,22,31,"options"],[10,36,22,8],[11,0,23,8],[11,11,23,13,"_operations"],[11,22,23,8],[11,25,23,27],[11,27,23,8],[12,0,24,5],[12,5,7,39],[13,0,29,4,"bindServiceObject"],[13,4,29,4,"bindServiceObject"],[13,21,29,21],[13,23,29,23],[13,32,29,32,"bindServiceObject"],[13,49,29,23],[13,50,29,50,"options"],[13,57,29,23],[13,59,29,59],[14,0,30,8,"options"],[14,6,30,8,"options"],[14,13,30,15],[14,16,30,18,"options"],[14,23,30,25],[14,27,30,29],[14,29,30,8],[16,0,31,8],[16,10,31,12],[16,11,31,13],[16,16,31,18,"service"],[16,23,31,8],[16,25,31,27],[17,0,32,12],[17,13,32,17,"service"],[17,20,32,12],[17,23,32,27],[17,27,32,31,"AWS"],[17,30,32,34],[17,31,32,35,"Polly"],[17,36,32,27],[17,37,32,41,"options"],[17,44,32,27],[17,45,32,12],[18,0,33,9],[18,7,31,8],[18,13,33,15],[19,0,34,12],[19,12,34,16,"config"],[19,18,34,22],[19,21,34,25,"AWS"],[19,24,34,28],[19,25,34,29,"util"],[19,29,34,25],[19,30,34,34,"copy"],[19,34,34,25],[19,35,34,39],[19,40,34,44,"service"],[19,47,34,39],[19,48,34,52,"config"],[19,54,34,25],[19,55,34,12],[20,0,35,12],[20,13,35,17,"service"],[20,20,35,12],[20,23,35,27],[20,27,35,31],[20,32,35,36,"service"],[20,39,35,31],[20,40,35,44,"constructor"],[20,51,35,31],[20,52,35,56,"__super__"],[20,61,35,27],[20,62,35,66,"config"],[20,68,35,27],[20,69,35,12],[21,0,36,12],[21,13,36,17,"service"],[21,20,36,12],[21,21,36,25,"config"],[21,27,36,12],[21,28,36,32,"params"],[21,34,36,12],[21,37,36,41,"AWS"],[21,40,36,44],[21,41,36,45,"util"],[21,45,36,41],[21,46,36,50,"merge"],[21,51,36,41],[21,52,36,56],[21,57,36,61,"service"],[21,64,36,56],[21,65,36,69,"config"],[21,71,36,56],[21,72,36,76,"params"],[21,78,36,56],[21,82,36,86],[21,84,36,41],[21,86,36,90,"options"],[21,93,36,97],[21,94,36,98,"params"],[21,100,36,41],[21,101,36,12],[22,0,37,9],[23,0,38,5],[23,5,7,39],[24,0,43,4,"modifyInputMembers"],[24,4,43,4,"modifyInputMembers"],[24,22,43,22],[24,24,43,24],[24,33,43,33,"modifyInputMembers"],[24,51,43,24],[24,52,43,52,"input"],[24,57,43,24],[24,59,43,59],[25,0,46,8],[25,10,46,12,"modifiedInput"],[25,23,46,25],[25,26,46,28,"AWS"],[25,29,46,31],[25,30,46,32,"util"],[25,34,46,28],[25,35,46,37,"copy"],[25,39,46,28],[25,40,46,42,"input"],[25,45,46,28],[25,46,46,8],[26,0,47,8,"modifiedInput"],[26,6,47,8,"modifiedInput"],[26,19,47,21],[26,20,47,22,"members"],[26,27,47,8],[26,30,47,32,"AWS"],[26,33,47,35],[26,34,47,36,"util"],[26,38,47,32],[26,39,47,41,"copy"],[26,43,47,32],[26,44,47,46,"input"],[26,49,47,51],[26,50,47,52,"members"],[26,57,47,32],[26,58,47,8],[27,0,48,8,"AWS"],[27,6,48,8,"AWS"],[27,9,48,11],[27,10,48,12,"util"],[27,14,48,8],[27,15,48,17,"each"],[27,19,48,8],[27,20,48,22,"input"],[27,25,48,27],[27,26,48,28,"members"],[27,33,48,8],[27,35,48,37],[27,45,48,46,"name"],[27,49,48,37],[27,51,48,52,"member"],[27,57,48,37],[27,59,48,60],[28,0,49,12,"modifiedInput"],[28,8,49,12,"modifiedInput"],[28,21,49,25],[28,22,49,26,"members"],[28,29,49,12],[28,30,49,34,"name"],[28,34,49,12],[28,38,49,42,"AWS"],[28,41,49,45],[28,42,49,46,"util"],[28,46,49,42],[28,47,49,51,"copy"],[28,51,49,42],[28,52,49,56,"member"],[28,58,49,42],[28,59,49,12],[30,0,51,12],[30,12,51,16],[30,13,51,17,"member"],[30,19,51,23],[30,20,51,24,"location"],[30,28,51,16],[30,32,51,36,"member"],[30,38,51,42],[30,39,51,43,"location"],[30,47,51,36],[30,52,51,56],[30,58,51,12],[30,60,51,64],[31,0,52,16,"modifiedInput"],[31,10,52,16,"modifiedInput"],[31,23,52,29],[31,24,52,30,"members"],[31,31,52,16],[31,32,52,38,"name"],[31,36,52,16],[31,38,52,44,"location"],[31,46,52,16],[31,49,52,55],[31,62,52,16],[32,0,53,16,"modifiedInput"],[32,10,53,16,"modifiedInput"],[32,23,53,29],[32,24,53,30,"members"],[32,31,53,16],[32,32,53,38,"name"],[32,36,53,16],[32,38,53,44,"locationName"],[32,50,53,16],[32,53,53,59,"name"],[32,57,53,16],[33,0,54,13],[34,0,55,9],[34,7,48,8],[35,0,56,8],[35,13,56,15,"modifiedInput"],[35,26,56,8],[36,0,57,5],[36,5,7,39],[37,0,62,4,"convertPostToGet"],[37,4,62,4,"convertPostToGet"],[37,20,62,20],[37,22,62,22],[37,31,62,31,"convertPostToGet"],[37,47,62,22],[37,48,62,48,"req"],[37,51,62,22],[37,53,62,53],[38,0,64,8,"req"],[38,6,64,8,"req"],[38,9,64,11],[38,10,64,12,"httpRequest"],[38,21,64,8],[38,22,64,24,"method"],[38,28,64,8],[38,31,64,33],[38,36,64,8],[39,0,66,8],[39,10,66,12,"operation"],[39,19,66,21],[39,22,66,24,"req"],[39,25,66,27],[39,26,66,28,"service"],[39,33,66,24],[39,34,66,36,"api"],[39,37,66,24],[39,38,66,40,"operations"],[39,48,66,24],[39,49,66,51,"req"],[39,52,66,54],[39,53,66,55,"operation"],[39,62,66,24],[39,63,66,8],[40,0,68,8],[40,10,68,12,"input"],[40,15,68,17],[40,18,68,20],[40,23,68,25,"_operations"],[40,34,68,20],[40,35,68,37,"req"],[40,38,68,40],[40,39,68,41,"operation"],[40,48,68,20],[40,49,68,8],[42,0,69,8],[42,10,69,12],[42,11,69,13,"input"],[42,16,69,8],[42,18,69,20],[43,0,71,12],[43,13,71,17,"_operations"],[43,24,71,12],[43,25,71,29,"req"],[43,28,71,32],[43,29,71,33,"operation"],[43,38,71,12],[43,42,71,46,"input"],[43,47,71,51],[43,50,71,54],[43,55,71,59,"modifyInputMembers"],[43,73,71,54],[43,74,71,78,"operation"],[43,83,71,87],[43,84,71,88,"input"],[43,89,71,54],[43,90,71,12],[44,0,72,9],[46,0,74,8],[46,10,74,12,"uri"],[46,13,74,15],[46,16,74,18,"rest"],[46,20,74,22],[46,21,74,23,"generateURI"],[46,32,74,18],[46,33,74,35,"req"],[46,36,74,38],[46,37,74,39,"httpRequest"],[46,48,74,35],[46,49,74,51,"endpoint"],[46,57,74,35],[46,58,74,60,"path"],[46,62,74,18],[46,64,74,66,"operation"],[46,73,74,75],[46,74,74,76,"httpPath"],[46,82,74,18],[46,84,74,86,"input"],[46,89,74,18],[46,91,74,93,"req"],[46,94,74,96],[46,95,74,97,"params"],[46,101,74,18],[46,102,74,8],[47,0,76,8,"req"],[47,6,76,8,"req"],[47,9,76,11],[47,10,76,12,"httpRequest"],[47,21,76,8],[47,22,76,24,"path"],[47,26,76,8],[47,29,76,31,"uri"],[47,32,76,8],[48,0,77,8,"req"],[48,6,77,8,"req"],[48,9,77,11],[48,10,77,12,"httpRequest"],[48,21,77,8],[48,22,77,24,"body"],[48,26,77,8],[48,29,77,31],[48,31,77,8],[49,0,80,8],[49,13,80,15,"req"],[49,16,80,18],[49,17,80,19,"httpRequest"],[49,28,80,15],[49,29,80,31,"headers"],[49,36,80,15],[49,37,80,39],[49,53,80,15],[49,54,80,8],[50,0,81,8],[50,13,81,15,"req"],[50,16,81,18],[50,17,81,19,"httpRequest"],[50,28,81,15],[50,29,81,31,"headers"],[50,36,81,15],[50,37,81,39],[50,51,81,15],[50,52,81,8],[51,0,82,5],[51,5,7,39],[52,0,105,4,"getSynthesizeSpeechUrl"],[52,4,105,4,"getSynthesizeSpeechUrl"],[52,26,105,26],[52,28,105,28],[52,37,105,37,"getSynthesizeSpeechUrl"],[52,59,105,28],[52,60,105,60,"params"],[52,66,105,28],[52,68,105,68,"expires"],[52,75,105,28],[52,77,105,77,"callback"],[52,85,105,28],[52,87,105,87],[53,0,106,8],[53,10,106,12,"self"],[53,14,106,16],[53,17,106,19],[53,21,106,8],[54,0,107,8],[54,10,107,12,"request"],[54,17,107,19],[54,20,107,22],[54,25,107,27,"service"],[54,32,107,22],[54,33,107,35,"makeRequest"],[54,44,107,22],[54,45,107,47],[54,63,107,22],[54,65,107,67,"params"],[54,71,107,22],[54,72,107,8],[55,0,109,8,"request"],[55,6,109,8,"request"],[55,13,109,15],[55,14,109,16,"removeAllListeners"],[55,32,109,8],[55,33,109,35],[55,40,109,8],[56,0,110,8,"request"],[56,6,110,8,"request"],[56,13,110,15],[56,14,110,16,"on"],[56,16,110,8],[56,17,110,19],[56,24,110,8],[56,26,110,28],[56,36,110,37,"req"],[56,39,110,28],[56,41,110,42],[57,0,111,12,"self"],[57,8,111,12,"self"],[57,12,111,16],[57,13,111,17,"convertPostToGet"],[57,29,111,12],[57,30,111,34,"req"],[57,33,111,12],[58,0,112,9],[58,7,110,8],[59,0,113,8],[59,13,113,15,"request"],[59,20,113,22],[59,21,113,23,"presign"],[59,28,113,15],[59,29,113,31,"expires"],[59,36,113,15],[59,38,113,40,"callback"],[59,46,113,15],[59,47,113,8],[60,0,114,5],[61,0,7,39],[61,3,7,22],[61,4,7,0]]},"type":"js/module"}]}