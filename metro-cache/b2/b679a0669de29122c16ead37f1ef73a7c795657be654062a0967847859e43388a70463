{"dependencies":[{"name":"./core","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var AWS = _$$_REQUIRE(_dependencyMap[0], \"./core\");\n\n  AWS.Credentials = AWS.util.inherit({\n    constructor: function Credentials() {\n      AWS.util.hideProperties(this, ['secretAccessKey']);\n      this.expired = false;\n      this.expireTime = null;\n\n      if (arguments.length === 1 && typeof arguments[0] === 'object') {\n        var creds = arguments[0].credentials || arguments[0];\n        this.accessKeyId = creds.accessKeyId;\n        this.secretAccessKey = creds.secretAccessKey;\n        this.sessionToken = creds.sessionToken;\n      } else {\n        this.accessKeyId = arguments[0];\n        this.secretAccessKey = arguments[1];\n        this.sessionToken = arguments[2];\n      }\n    },\n    expiryWindow: 15,\n    needsRefresh: function needsRefresh() {\n      var currentTime = AWS.util.date.getDate().getTime();\n      var adjustedTime = new Date(currentTime + this.expiryWindow * 1000);\n\n      if (this.expireTime && adjustedTime > this.expireTime) {\n        return true;\n      } else {\n        return this.expired || !this.accessKeyId || !this.secretAccessKey;\n      }\n    },\n    get: function get(callback) {\n      var self = this;\n\n      if (this.needsRefresh()) {\n        this.refresh(function (err) {\n          if (!err) self.expired = false;\n          if (callback) callback(err);\n        });\n      } else if (callback) {\n        callback();\n      }\n    },\n    refresh: function refresh(callback) {\n      this.expired = false;\n      callback();\n    }\n  });\n\n  AWS.Credentials.addPromisesToClass = function addPromisesToClass(PromiseDependency) {\n    this.prototype.getPromise = AWS.util.promisifyMethod('get', PromiseDependency);\n    this.prototype.refreshPromise = AWS.util.promisifyMethod('refresh', PromiseDependency);\n  };\n\n  AWS.Credentials.deletePromisesFromClass = function deletePromisesFromClass() {\n    delete this.prototype.getPromise;\n    delete this.prototype.refreshPromise;\n  };\n\n  AWS.util.addPromises(AWS.Credentials);\n});","map":[[2,0,1,0],[2,6,1,4,"AWS"],[2,9,1,7],[2,12,1,10,"require"],[2,23,1,17],[2,52,1,0],[4,0,41,0,"AWS"],[4,2,41,0,"AWS"],[4,5,41,3],[4,6,41,4,"Credentials"],[4,17,41,0],[4,20,41,18,"AWS"],[4,23,41,21],[4,24,41,22,"util"],[4,28,41,18],[4,29,41,27,"inherit"],[4,36,41,18],[4,37,41,35],[5,0,65,2,"constructor"],[5,4,65,2,"constructor"],[5,15,65,13],[5,17,65,15],[5,26,65,24,"Credentials"],[5,37,65,15],[5,40,65,38],[6,0,67,4,"AWS"],[6,6,67,4,"AWS"],[6,9,67,7],[6,10,67,8,"util"],[6,14,67,4],[6,15,67,13,"hideProperties"],[6,29,67,4],[6,30,67,28],[6,34,67,4],[6,36,67,34],[6,37,67,35],[6,54,67,34],[6,55,67,4],[7,0,69,4],[7,11,69,9,"expired"],[7,18,69,4],[7,21,69,19],[7,26,69,4],[8,0,70,4],[8,11,70,9,"expireTime"],[8,21,70,4],[8,24,70,22],[8,28,70,4],[10,0,71,4],[10,10,71,8,"arguments"],[10,19,71,17],[10,20,71,18,"length"],[10,26,71,8],[10,31,71,29],[10,32,71,8],[10,36,71,34],[10,43,71,41,"arguments"],[10,52,71,50],[10,53,71,51],[10,54,71,50],[10,55,71,34],[10,60,71,58],[10,68,71,4],[10,70,71,68],[11,0,72,6],[11,12,72,10,"creds"],[11,17,72,15],[11,20,72,18,"arguments"],[11,29,72,27],[11,30,72,28],[11,31,72,27],[11,32,72,18],[11,33,72,31,"credentials"],[11,44,72,18],[11,48,72,46,"arguments"],[11,57,72,55],[11,58,72,56],[11,59,72,55],[11,60,72,6],[12,0,73,6],[12,13,73,11,"accessKeyId"],[12,24,73,6],[12,27,73,25,"creds"],[12,32,73,30],[12,33,73,31,"accessKeyId"],[12,44,73,6],[13,0,74,6],[13,13,74,11,"secretAccessKey"],[13,28,74,6],[13,31,74,29,"creds"],[13,36,74,34],[13,37,74,35,"secretAccessKey"],[13,52,74,6],[14,0,75,6],[14,13,75,11,"sessionToken"],[14,25,75,6],[14,28,75,26,"creds"],[14,33,75,31],[14,34,75,32,"sessionToken"],[14,46,75,6],[15,0,76,5],[15,7,71,4],[15,13,76,11],[16,0,77,6],[16,13,77,11,"accessKeyId"],[16,24,77,6],[16,27,77,25,"arguments"],[16,36,77,34],[16,37,77,35],[16,38,77,34],[16,39,77,6],[17,0,78,6],[17,13,78,11,"secretAccessKey"],[17,28,78,6],[17,31,78,29,"arguments"],[17,40,78,38],[17,41,78,39],[17,42,78,38],[17,43,78,6],[18,0,79,6],[18,13,79,11,"sessionToken"],[18,25,79,6],[18,28,79,26,"arguments"],[18,37,79,35],[18,38,79,36],[18,39,79,35],[18,40,79,6],[19,0,80,5],[20,0,81,3],[20,5,41,35],[21,0,87,2,"expiryWindow"],[21,4,87,2,"expiryWindow"],[21,16,87,14],[21,18,87,16],[21,20,41,35],[22,0,94,2,"needsRefresh"],[22,4,94,2,"needsRefresh"],[22,16,94,14],[22,18,94,16],[22,27,94,25,"needsRefresh"],[22,39,94,16],[22,42,94,40],[23,0,95,4],[23,10,95,8,"currentTime"],[23,21,95,19],[23,24,95,22,"AWS"],[23,27,95,25],[23,28,95,26,"util"],[23,32,95,22],[23,33,95,31,"date"],[23,37,95,22],[23,38,95,36,"getDate"],[23,45,95,22],[23,48,95,46,"getTime"],[23,55,95,22],[23,57,95,4],[24,0,96,4],[24,10,96,8,"adjustedTime"],[24,22,96,20],[24,25,96,23],[24,29,96,27,"Date"],[24,33,96,23],[24,34,96,32,"currentTime"],[24,45,96,43],[24,48,96,46],[24,53,96,51,"expiryWindow"],[24,65,96,46],[24,68,96,66],[24,72,96,23],[24,73,96,4],[26,0,98,4],[26,10,98,8],[26,15,98,13,"expireTime"],[26,25,98,8],[26,29,98,27,"adjustedTime"],[26,41,98,39],[26,44,98,42],[26,49,98,47,"expireTime"],[26,59,98,4],[26,61,98,59],[27,0,99,6],[27,15,99,13],[27,19,99,6],[28,0,100,5],[28,7,98,4],[28,13,100,11],[29,0,101,6],[29,15,101,13],[29,20,101,18,"expired"],[29,27,101,13],[29,31,101,29],[29,32,101,30],[29,37,101,35,"accessKeyId"],[29,48,101,13],[29,52,101,50],[29,53,101,51],[29,58,101,56,"secretAccessKey"],[29,73,101,6],[30,0,102,5],[31,0,103,3],[31,5,41,35],[32,0,118,2,"get"],[32,4,118,2,"get"],[32,7,118,5],[32,9,118,7],[32,18,118,16,"get"],[32,21,118,7],[32,22,118,20,"callback"],[32,30,118,7],[32,32,118,30],[33,0,119,4],[33,10,119,8,"self"],[33,14,119,12],[33,17,119,15],[33,21,119,4],[35,0,120,4],[35,10,120,8],[35,15,120,13,"needsRefresh"],[35,27,120,8],[35,29,120,4],[35,31,120,29],[36,0,121,6],[36,13,121,11,"refresh"],[36,20,121,6],[36,21,121,19],[36,31,121,28,"err"],[36,34,121,19],[36,36,121,33],[37,0,122,8],[37,14,122,12],[37,15,122,13,"err"],[37,18,122,8],[37,20,122,18,"self"],[37,24,122,22],[37,25,122,23,"expired"],[37,32,122,18],[37,35,122,33],[37,40,122,18],[38,0,123,8],[38,14,123,12,"callback"],[38,22,123,8],[38,24,123,22,"callback"],[38,32,123,30],[38,33,123,31,"err"],[38,36,123,30],[38,37,123,22],[39,0,124,7],[39,9,121,6],[40,0,125,5],[40,7,120,4],[40,13,125,11],[40,17,125,15,"callback"],[40,25,125,11],[40,27,125,25],[41,0,126,6,"callback"],[41,8,126,6,"callback"],[41,16,126,14],[42,0,127,5],[43,0,128,3],[43,5,41,35],[44,0,192,2,"refresh"],[44,4,192,2,"refresh"],[44,11,192,9],[44,13,192,11],[44,22,192,20,"refresh"],[44,29,192,11],[44,30,192,28,"callback"],[44,38,192,11],[44,40,192,38],[45,0,193,4],[45,11,193,9,"expired"],[45,18,193,4],[45,21,193,19],[45,26,193,4],[46,0,194,4,"callback"],[46,6,194,4,"callback"],[46,14,194,12],[47,0,195,3],[48,0,41,35],[48,3,41,18],[48,4,41,0],[50,0,201,0,"AWS"],[50,2,201,0,"AWS"],[50,5,201,3],[50,6,201,4,"Credentials"],[50,17,201,0],[50,18,201,16,"addPromisesToClass"],[50,36,201,0],[50,39,201,37],[50,48,201,46,"addPromisesToClass"],[50,66,201,37],[50,67,201,65,"PromiseDependency"],[50,84,201,37],[50,86,201,84],[51,0,202,2],[51,9,202,7,"prototype"],[51,18,202,2],[51,19,202,17,"getPromise"],[51,29,202,2],[51,32,202,30,"AWS"],[51,35,202,33],[51,36,202,34,"util"],[51,40,202,30],[51,41,202,39,"promisifyMethod"],[51,56,202,30],[51,57,202,55],[51,62,202,30],[51,64,202,62,"PromiseDependency"],[51,81,202,30],[51,82,202,2],[52,0,203,2],[52,9,203,7,"prototype"],[52,18,203,2],[52,19,203,17,"refreshPromise"],[52,33,203,2],[52,36,203,34,"AWS"],[52,39,203,37],[52,40,203,38,"util"],[52,44,203,34],[52,45,203,43,"promisifyMethod"],[52,60,203,34],[52,61,203,59],[52,70,203,34],[52,72,203,70,"PromiseDependency"],[52,89,203,34],[52,90,203,2],[53,0,204,1],[53,3,201,0],[55,0,209,0,"AWS"],[55,2,209,0,"AWS"],[55,5,209,3],[55,6,209,4,"Credentials"],[55,17,209,0],[55,18,209,16,"deletePromisesFromClass"],[55,41,209,0],[55,44,209,42],[55,53,209,51,"deletePromisesFromClass"],[55,76,209,42],[55,79,209,77],[56,0,210,2],[56,11,210,9],[56,16,210,14,"prototype"],[56,25,210,9],[56,26,210,24,"getPromise"],[56,36,210,2],[57,0,211,2],[57,11,211,9],[57,16,211,14,"prototype"],[57,25,211,9],[57,26,211,24,"refreshPromise"],[57,40,211,2],[58,0,212,1],[58,3,209,0],[60,0,214,0,"AWS"],[60,2,214,0,"AWS"],[60,5,214,3],[60,6,214,4,"util"],[60,10,214,0],[60,11,214,9,"addPromises"],[60,22,214,0],[60,23,214,21,"AWS"],[60,26,214,24],[60,27,214,25,"Credentials"],[60,38,214,0]]},"type":"js/module"}]}