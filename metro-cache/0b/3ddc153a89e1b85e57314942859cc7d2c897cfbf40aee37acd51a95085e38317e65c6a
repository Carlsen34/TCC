{"dependencies":[{"name":"../core","data":{"isAsync":false}},{"name":"../../clients/sts","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var AWS = _$$_REQUIRE(_dependencyMap[0], \"../core\");\n\n  var STS = _$$_REQUIRE(_dependencyMap[1], \"../../clients/sts\");\n\n  AWS.TemporaryCredentials = AWS.util.inherit(AWS.Credentials, {\n    constructor: function TemporaryCredentials(params, masterCredentials) {\n      AWS.Credentials.call(this);\n      this.loadMasterCredentials(masterCredentials);\n      this.expired = true;\n      this.params = params || {};\n\n      if (this.params.RoleArn) {\n        this.params.RoleSessionName = this.params.RoleSessionName || 'temporary-credentials';\n      }\n    },\n    refresh: function refresh(callback) {\n      var self = this;\n      self.createClients();\n      if (!callback) callback = function callback(err) {\n        if (err) throw err;\n      };\n      self.masterCredentials.get(function () {\n        self.service.config.credentials = self.masterCredentials;\n        var operation = self.params.RoleArn ? self.service.assumeRole : self.service.getSessionToken;\n        operation.call(self.service, function (err, data) {\n          if (!err) {\n            self.service.credentialsFrom(data, self);\n          }\n\n          callback(err);\n        });\n      });\n    },\n    loadMasterCredentials: function loadMasterCredentials(masterCredentials) {\n      this.masterCredentials = masterCredentials || AWS.config.credentials;\n\n      while (this.masterCredentials.masterCredentials) {\n        this.masterCredentials = this.masterCredentials.masterCredentials;\n      }\n\n      if (typeof this.masterCredentials.get !== 'function') {\n        this.masterCredentials = new AWS.Credentials(this.masterCredentials);\n      }\n    },\n    createClients: function createClients() {\n      this.service = this.service || new STS({\n        params: this.params\n      });\n    }\n  });\n});","map":[[2,0,1,0],[2,6,1,4,"AWS"],[2,9,1,7],[2,12,1,10,"require"],[2,23,1,17],[2,53,1,0],[4,0,2,0],[4,6,2,4,"STS"],[4,9,2,7],[4,12,2,10,"require"],[4,23,2,17],[4,63,2,0],[6,0,33,0,"AWS"],[6,2,33,0,"AWS"],[6,5,33,3],[6,6,33,4,"TemporaryCredentials"],[6,26,33,0],[6,29,33,27,"AWS"],[6,32,33,30],[6,33,33,31,"util"],[6,37,33,27],[6,38,33,36,"inherit"],[6,45,33,27],[6,46,33,44,"AWS"],[6,49,33,47],[6,50,33,48,"Credentials"],[6,61,33,27],[6,63,33,61],[7,0,56,2,"constructor"],[7,4,56,2,"constructor"],[7,15,56,13],[7,17,56,15],[7,26,56,24,"TemporaryCredentials"],[7,46,56,15],[7,47,56,45,"params"],[7,53,56,15],[7,55,56,53,"masterCredentials"],[7,72,56,15],[7,74,56,72],[8,0,57,4,"AWS"],[8,6,57,4,"AWS"],[8,9,57,7],[8,10,57,8,"Credentials"],[8,21,57,4],[8,22,57,20,"call"],[8,26,57,4],[8,27,57,25],[8,31,57,4],[9,0,58,4],[9,11,58,9,"loadMasterCredentials"],[9,32,58,4],[9,33,58,31,"masterCredentials"],[9,50,58,4],[10,0,59,4],[10,11,59,9,"expired"],[10,18,59,4],[10,21,59,19],[10,25,59,4],[11,0,61,4],[11,11,61,9,"params"],[11,17,61,4],[11,20,61,18,"params"],[11,26,61,24],[11,30,61,28],[11,32,61,4],[13,0,62,4],[13,10,62,8],[13,15,62,13,"params"],[13,21,62,8],[13,22,62,20,"RoleArn"],[13,29,62,4],[13,31,62,29],[14,0,63,6],[14,13,63,11,"params"],[14,19,63,6],[14,20,63,18,"RoleSessionName"],[14,35,63,6],[14,38,64,8],[14,43,64,13,"params"],[14,49,64,8],[14,50,64,20,"RoleSessionName"],[14,65,64,8],[14,69,64,39],[14,92,63,6],[15,0,65,5],[16,0,66,3],[16,5,33,61],[17,0,81,2,"refresh"],[17,4,81,2,"refresh"],[17,11,81,9],[17,13,81,11],[17,22,81,20,"refresh"],[17,29,81,11],[17,30,81,28,"callback"],[17,38,81,11],[17,40,81,38],[18,0,82,4],[18,10,82,8,"self"],[18,14,82,12],[18,17,82,15],[18,21,82,4],[19,0,83,4,"self"],[19,6,83,4,"self"],[19,10,83,8],[19,11,83,9,"createClients"],[19,24,83,4],[20,0,84,4],[20,10,84,8],[20,11,84,9,"callback"],[20,19,84,4],[20,21,84,19,"callback"],[20,29,84,27],[20,32,84,30],[20,50,84,39,"err"],[20,53,84,30],[20,55,84,44],[21,0,84,46],[21,12,84,50,"err"],[21,15,84,46],[21,17,84,55],[21,23,84,61,"err"],[21,26,84,55],[22,0,84,67],[22,7,84,19],[23,0,86,4,"self"],[23,6,86,4,"self"],[23,10,86,8],[23,11,86,9,"masterCredentials"],[23,28,86,4],[23,29,86,27,"get"],[23,32,86,4],[23,33,86,31],[23,45,86,42],[24,0,87,6,"self"],[24,8,87,6,"self"],[24,12,87,10],[24,13,87,11,"service"],[24,20,87,6],[24,21,87,19,"config"],[24,27,87,6],[24,28,87,26,"credentials"],[24,39,87,6],[24,42,87,40,"self"],[24,46,87,44],[24,47,87,45,"masterCredentials"],[24,64,87,6],[25,0,88,6],[25,12,88,10,"operation"],[25,21,88,19],[25,24,88,22,"self"],[25,28,88,26],[25,29,88,27,"params"],[25,35,88,22],[25,36,88,34,"RoleArn"],[25,43,88,22],[25,46,89,8,"self"],[25,50,89,12],[25,51,89,13,"service"],[25,58,89,8],[25,59,89,21,"assumeRole"],[25,69,88,22],[25,72,89,34,"self"],[25,76,89,38],[25,77,89,39,"service"],[25,84,89,34],[25,85,89,47,"getSessionToken"],[25,100,88,6],[26,0,90,6,"operation"],[26,8,90,6,"operation"],[26,17,90,15],[26,18,90,16,"call"],[26,22,90,6],[26,23,90,21,"self"],[26,27,90,25],[26,28,90,26,"service"],[26,35,90,6],[26,37,90,35],[26,47,90,45,"err"],[26,50,90,35],[26,52,90,50,"data"],[26,56,90,35],[26,58,90,56],[27,0,91,8],[27,14,91,12],[27,15,91,13,"err"],[27,18,91,8],[27,20,91,18],[28,0,92,10,"self"],[28,12,92,10,"self"],[28,16,92,14],[28,17,92,15,"service"],[28,24,92,10],[28,25,92,23,"credentialsFrom"],[28,40,92,10],[28,41,92,39,"data"],[28,45,92,10],[28,47,92,45,"self"],[28,51,92,10],[29,0,93,9],[31,0,94,8,"callback"],[31,10,94,8,"callback"],[31,18,94,16],[31,19,94,17,"err"],[31,22,94,16],[31,23,94,8],[32,0,95,7],[32,9,90,6],[33,0,96,5],[33,7,86,4],[34,0,97,3],[34,5,33,61],[35,0,102,2,"loadMasterCredentials"],[35,4,102,2,"loadMasterCredentials"],[35,25,102,23],[35,27,102,25],[35,36,102,34,"loadMasterCredentials"],[35,57,102,25],[35,58,102,56,"masterCredentials"],[35,75,102,25],[35,77,102,75],[36,0,103,4],[36,11,103,9,"masterCredentials"],[36,28,103,4],[36,31,103,29,"masterCredentials"],[36,48,103,46],[36,52,103,50,"AWS"],[36,55,103,53],[36,56,103,54,"config"],[36,62,103,50],[36,63,103,61,"credentials"],[36,74,103,4],[38,0,104,4],[38,13,104,11],[38,18,104,16,"masterCredentials"],[38,35,104,11],[38,36,104,34,"masterCredentials"],[38,53,104,4],[38,55,104,53],[39,0,105,6],[39,13,105,11,"masterCredentials"],[39,30,105,6],[39,33,105,31],[39,38,105,36,"masterCredentials"],[39,55,105,31],[39,56,105,54,"masterCredentials"],[39,73,105,6],[40,0,106,5],[42,0,108,4],[42,10,108,8],[42,17,108,15],[42,22,108,20,"masterCredentials"],[42,39,108,15],[42,40,108,38,"get"],[42,43,108,8],[42,48,108,46],[42,58,108,4],[42,60,108,58],[43,0,109,6],[43,13,109,11,"masterCredentials"],[43,30,109,6],[43,33,109,31],[43,37,109,35,"AWS"],[43,40,109,38],[43,41,109,39,"Credentials"],[43,52,109,31],[43,53,109,51],[43,58,109,56,"masterCredentials"],[43,75,109,31],[43,76,109,6],[44,0,110,5],[45,0,111,3],[45,5,33,61],[46,0,116,2,"createClients"],[46,4,116,2,"createClients"],[46,17,116,15],[46,19,116,17],[46,44,116,28],[47,0,117,4],[47,11,117,9,"service"],[47,18,117,4],[47,21,117,19],[47,26,117,24,"service"],[47,33,117,19],[47,37,117,35],[47,41,117,39,"STS"],[47,44,117,35],[47,45,117,43],[48,0,117,44,"params"],[48,8,117,44,"params"],[48,14,117,50],[48,16,117,52],[48,21,117,57,"params"],[49,0,117,43],[49,7,117,35],[49,8,117,4],[50,0,118,3],[51,0,33,61],[51,3,33,27],[51,4,33,0]]},"type":"js/module"}]}