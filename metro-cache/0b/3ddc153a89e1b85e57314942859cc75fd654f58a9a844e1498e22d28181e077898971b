{"dependencies":[{"name":"../core","data":{"isAsync":false}},{"name":"../../clients/sts","data":{"isAsync":false}}],"output":[{"data":{"code":"__d(function (global, _$$_REQUIRE, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  var AWS = _$$_REQUIRE(_dependencyMap[0], \"../core\");\n\n  var STS = _$$_REQUIRE(_dependencyMap[1], \"../../clients/sts\");\n\n  AWS.TemporaryCredentials = AWS.util.inherit(AWS.Credentials, {\n    constructor: function TemporaryCredentials(params, masterCredentials) {\n      AWS.Credentials.call(this);\n      this.loadMasterCredentials(masterCredentials);\n      this.expired = true;\n      this.params = params || {};\n\n      if (this.params.RoleArn) {\n        this.params.RoleSessionName = this.params.RoleSessionName || 'temporary-credentials';\n      }\n    },\n    refresh: function refresh(callback) {\n      this.coalesceRefresh(callback || AWS.util.fn.callback);\n    },\n    load: function load(callback) {\n      var self = this;\n      self.createClients();\n      self.masterCredentials.get(function () {\n        self.service.config.credentials = self.masterCredentials;\n        var operation = self.params.RoleArn ? self.service.assumeRole : self.service.getSessionToken;\n        operation.call(self.service, function (err, data) {\n          if (!err) {\n            self.service.credentialsFrom(data, self);\n          }\n\n          callback(err);\n        });\n      });\n    },\n    loadMasterCredentials: function loadMasterCredentials(masterCredentials) {\n      this.masterCredentials = masterCredentials || AWS.config.credentials;\n\n      while (this.masterCredentials.masterCredentials) {\n        this.masterCredentials = this.masterCredentials.masterCredentials;\n      }\n\n      if (typeof this.masterCredentials.get !== 'function') {\n        this.masterCredentials = new AWS.Credentials(this.masterCredentials);\n      }\n    },\n    createClients: function createClients() {\n      this.service = this.service || new STS({\n        params: this.params\n      });\n    }\n  });\n});","map":[[2,0,1,0],[2,6,1,4,"AWS"],[2,9,1,7],[2,12,1,10,"require"],[2,23,1,17],[2,53,1,0],[4,0,2,0],[4,6,2,4,"STS"],[4,9,2,7],[4,12,2,10,"require"],[4,23,2,17],[4,63,2,0],[6,0,37,0,"AWS"],[6,2,37,0,"AWS"],[6,5,37,3],[6,6,37,4,"TemporaryCredentials"],[6,26,37,0],[6,29,37,27,"AWS"],[6,32,37,30],[6,33,37,31,"util"],[6,37,37,27],[6,38,37,36,"inherit"],[6,45,37,27],[6,46,37,44,"AWS"],[6,49,37,47],[6,50,37,48,"Credentials"],[6,61,37,27],[6,63,37,61],[7,0,60,2,"constructor"],[7,4,60,2,"constructor"],[7,15,60,13],[7,17,60,15],[7,26,60,24,"TemporaryCredentials"],[7,46,60,15],[7,47,60,45,"params"],[7,53,60,15],[7,55,60,53,"masterCredentials"],[7,72,60,15],[7,74,60,72],[8,0,61,4,"AWS"],[8,6,61,4,"AWS"],[8,9,61,7],[8,10,61,8,"Credentials"],[8,21,61,4],[8,22,61,20,"call"],[8,26,61,4],[8,27,61,25],[8,31,61,4],[9,0,62,4],[9,11,62,9,"loadMasterCredentials"],[9,32,62,4],[9,33,62,31,"masterCredentials"],[9,50,62,4],[10,0,63,4],[10,11,63,9,"expired"],[10,18,63,4],[10,21,63,19],[10,25,63,4],[11,0,65,4],[11,11,65,9,"params"],[11,17,65,4],[11,20,65,18,"params"],[11,26,65,24],[11,30,65,28],[11,32,65,4],[13,0,66,4],[13,10,66,8],[13,15,66,13,"params"],[13,21,66,8],[13,22,66,20,"RoleArn"],[13,29,66,4],[13,31,66,29],[14,0,67,6],[14,13,67,11,"params"],[14,19,67,6],[14,20,67,18,"RoleSessionName"],[14,35,67,6],[14,38,68,8],[14,43,68,13,"params"],[14,49,68,8],[14,50,68,20,"RoleSessionName"],[14,65,68,8],[14,69,68,39],[14,92,67,6],[15,0,69,5],[16,0,70,3],[16,5,37,61],[17,0,85,2,"refresh"],[17,4,85,2,"refresh"],[17,11,85,9],[17,13,85,11],[17,22,85,20,"refresh"],[17,29,85,11],[17,30,85,29,"callback"],[17,38,85,11],[17,40,85,39],[18,0,86,4],[18,11,86,9,"coalesceRefresh"],[18,26,86,4],[18,27,86,25,"callback"],[18,35,86,33],[18,39,86,37,"AWS"],[18,42,86,40],[18,43,86,41,"util"],[18,47,86,37],[18,48,86,46,"fn"],[18,50,86,37],[18,51,86,49,"callback"],[18,59,86,4],[19,0,87,3],[19,5,37,61],[20,0,92,2,"load"],[20,4,92,2,"load"],[20,8,92,6],[20,10,92,8],[20,19,92,17,"load"],[20,23,92,8],[20,24,92,23,"callback"],[20,32,92,8],[20,34,92,33],[21,0,93,4],[21,10,93,8,"self"],[21,14,93,12],[21,17,93,15],[21,21,93,4],[22,0,94,4,"self"],[22,6,94,4,"self"],[22,10,94,8],[22,11,94,9,"createClients"],[22,24,94,4],[23,0,95,4,"self"],[23,6,95,4,"self"],[23,10,95,8],[23,11,95,9,"masterCredentials"],[23,28,95,4],[23,29,95,27,"get"],[23,32,95,4],[23,33,95,31],[23,45,95,43],[24,0,96,6,"self"],[24,8,96,6,"self"],[24,12,96,10],[24,13,96,11,"service"],[24,20,96,6],[24,21,96,19,"config"],[24,27,96,6],[24,28,96,26,"credentials"],[24,39,96,6],[24,42,96,40,"self"],[24,46,96,44],[24,47,96,45,"masterCredentials"],[24,64,96,6],[25,0,97,6],[25,12,97,10,"operation"],[25,21,97,19],[25,24,97,22,"self"],[25,28,97,26],[25,29,97,27,"params"],[25,35,97,22],[25,36,97,34,"RoleArn"],[25,43,97,22],[25,46,98,8,"self"],[25,50,98,12],[25,51,98,13,"service"],[25,58,98,8],[25,59,98,21,"assumeRole"],[25,69,97,22],[25,72,98,34,"self"],[25,76,98,38],[25,77,98,39,"service"],[25,84,98,34],[25,85,98,47,"getSessionToken"],[25,100,97,6],[26,0,99,6,"operation"],[26,8,99,6,"operation"],[26,17,99,15],[26,18,99,16,"call"],[26,22,99,6],[26,23,99,21,"self"],[26,27,99,25],[26,28,99,26,"service"],[26,35,99,6],[26,37,99,35],[26,47,99,45,"err"],[26,50,99,35],[26,52,99,50,"data"],[26,56,99,35],[26,58,99,56],[27,0,100,8],[27,14,100,12],[27,15,100,13,"err"],[27,18,100,8],[27,20,100,18],[28,0,101,10,"self"],[28,12,101,10,"self"],[28,16,101,14],[28,17,101,15,"service"],[28,24,101,10],[28,25,101,23,"credentialsFrom"],[28,40,101,10],[28,41,101,39,"data"],[28,45,101,10],[28,47,101,45,"self"],[28,51,101,10],[29,0,102,9],[31,0,103,8,"callback"],[31,10,103,8,"callback"],[31,18,103,16],[31,19,103,17,"err"],[31,22,103,16],[31,23,103,8],[32,0,104,7],[32,9,99,6],[33,0,105,5],[33,7,95,4],[34,0,106,3],[34,5,37,61],[35,0,111,2,"loadMasterCredentials"],[35,4,111,2,"loadMasterCredentials"],[35,25,111,23],[35,27,111,25],[35,36,111,34,"loadMasterCredentials"],[35,57,111,25],[35,58,111,57,"masterCredentials"],[35,75,111,25],[35,77,111,76],[36,0,112,4],[36,11,112,9,"masterCredentials"],[36,28,112,4],[36,31,112,29,"masterCredentials"],[36,48,112,46],[36,52,112,50,"AWS"],[36,55,112,53],[36,56,112,54,"config"],[36,62,112,50],[36,63,112,61,"credentials"],[36,74,112,4],[38,0,113,4],[38,13,113,11],[38,18,113,16,"masterCredentials"],[38,35,113,11],[38,36,113,34,"masterCredentials"],[38,53,113,4],[38,55,113,53],[39,0,114,6],[39,13,114,11,"masterCredentials"],[39,30,114,6],[39,33,114,31],[39,38,114,36,"masterCredentials"],[39,55,114,31],[39,56,114,54,"masterCredentials"],[39,73,114,6],[40,0,115,5],[42,0,117,4],[42,10,117,8],[42,17,117,15],[42,22,117,20,"masterCredentials"],[42,39,117,15],[42,40,117,38,"get"],[42,43,117,8],[42,48,117,46],[42,58,117,4],[42,60,117,58],[43,0,118,6],[43,13,118,11,"masterCredentials"],[43,30,118,6],[43,33,118,31],[43,37,118,35,"AWS"],[43,40,118,38],[43,41,118,39,"Credentials"],[43,52,118,31],[43,53,118,51],[43,58,118,56,"masterCredentials"],[43,75,118,31],[43,76,118,6],[44,0,119,5],[45,0,120,3],[45,5,37,61],[46,0,125,2,"createClients"],[46,4,125,2,"createClients"],[46,17,125,15],[46,19,125,17],[46,44,125,29],[47,0,126,4],[47,11,126,9,"service"],[47,18,126,4],[47,21,126,19],[47,26,126,24,"service"],[47,33,126,19],[47,37,126,35],[47,41,126,39,"STS"],[47,44,126,35],[47,45,126,43],[48,0,126,44,"params"],[48,8,126,44,"params"],[48,14,126,50],[48,16,126,52],[48,21,126,57,"params"],[49,0,126,43],[49,7,126,35],[49,8,126,4],[50,0,127,3],[51,0,37,61],[51,3,37,27],[51,4,37,0]]},"type":"js/module"}]}